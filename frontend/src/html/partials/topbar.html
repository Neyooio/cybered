<header class="top-panel">
  <!-- Hamburger for mobile -->
  <button id="hamburgerBtn" class="hamburger-btn" aria-label="Open menu">
    <span class="bar"></span>
    <span class="bar"></span>
    <span class="bar"></span>
  </button>
  
  <button id="topProfileBtn" onclick="window.location.href='profile.html'" class="profile-button pixel-button">
    <span id="topProfileName">PROFILE</span>
    <img id="topProfileAvatar" src="https://i.ibb.co/c1g1kkh/pixel-avatar.png" class="avatar-badge" />
  </button>
  
  <div class="level-panel">
    <span class="label-small">LEVEL</span>
    <span class="level-value" id="level">0</span>
  </div>

  <div class="xp-panel">
    <span class="label-small">XP</span>
    <span class="level-value" id="xp">0</span>
  </div>

  <button id="notificationBtn" class="notification-button pixel-button" title="Notifications">
    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
      <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
    </svg>
    <span id="notificationBadge" class="notification-badge" style="display:none;">0</span>
  </button>

  <div id="notificationDropdown" class="notification-dropdown">
    <div class="notification-header">
      <h3>Notifications</h3>
      <div class="notification-header-actions">
        <button id="markAllReadBtn" class="mark-all-read-btn" title="Mark all as read" style="display:none;">Mark all read</button>
        <button id="closeNotifications" class="close-notifications">✕</button>
      </div>
    </div>
    <div id="notificationList" class="notification-list">
      <!-- Notifications will be loaded here -->
      <div class="notification-empty">No pending requests</div>
    </div>
  </div>

  <div class="admin-options-wrapper">
    <button id="adminOptionsBtn" class="pixel-button" title="Admin Options" style="display:none;">Options</button>
    <div id="adminDropdown" class="admin-dropdown">
      <a href="admin/user-management.html" class="admin-dropdown-item">
        <span>User Management</span>
      </a>
      <a href="admin/website-management.html" class="admin-dropdown-item">
        <span>Website Management</span>
      </a>
      <a href="admin/system-log.html" class="admin-dropdown-item">
        <span>System Log</span>
      </a>
    </div>
  </div>

  <button id="logoutTopBtn" class="pixel-button logout-button" title="Logout" style="background-color: #ff6b35; color: white;">Logout</button>
</header>

<!-- Mobile Drawer (outside header) -->
<div class="drawer-overlay" id="drawerOverlay">
  <div class="drawer-panel" id="drawerPanel" role="navigation" aria-hidden="true">
    <button class="drawer-close" id="drawerCloseBtn" aria-label="Close menu">✕</button>
    
    <div class="drawer-profile">
      <img src="../../assets/images/Logo.png" class="drawer-logo" alt="CyberEd Logo">
      <span id="drawerProfileName" class="drawer-username">ADMIN</span>
    </div>

    <ul class="drawer-list">
      <li><a href="cybered.html" class="drawer-link">Home</a></li>
      <li><a href="modules.html" class="drawer-link">Modules</a></li>
      <li><a href="challenges.html" class="drawer-link">Challenges</a></li>
      
      <!-- Space button for all users -->
      <li id="drawerSpaceBtn">
        <a href="#" class="drawer-link" id="drawerSpaceLink">Space</a>
      </li>
      
      <!-- Admin Options Expandable Menu -->
      <li id="drawerAdminOptionsBtn" style="display:none;">
        <a href="#" class="drawer-link" id="drawerAdminToggle">
          <span>Options ▶</span>
        </a>
        <ul id="drawerAdminMenu" class="drawer-admin-submenu">
          <li><a href="admin/user-management.html" class="drawer-link drawer-submenu-item">User Management</a></li>
          <li><a href="admin/website-management.html" class="drawer-link drawer-submenu-item">Website Management</a></li>
          <li><a href="admin/system-log.html" class="drawer-link drawer-submenu-item">System Log</a></li>
        </ul>
      </li>
      
      <!-- Logout button inside the list -->
      <li>
        <button id="logoutMobileBtn" class="drawer-link logout-button">Logout</button>
      </li>
    </ul>
  </div>
</div>
